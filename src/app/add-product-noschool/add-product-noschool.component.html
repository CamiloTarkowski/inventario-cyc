<app-navbar></app-navbar>
<body>
    <div class="main">
        <form (ngSubmit)="onSubmit()">
            <h3 class="text-center my-4">Agrega un producto</h3>
            <div class="form-floating mb-3">
                <input type="text" class="form-control" placeholder="Polera polo roja" aria-label="Nombre" [(ngModel)]="producto.nombre" name="nombre" required>
                <label class="text-secondary container-fluid d-flex" for="nombre">Nombre <span class="container fluid text-danger d-flex justify-content-end">*</span></label>
            </div>  
              
            <div class="form-floating mb-3">
                <input type="text" class="form-control" placeholder="Polera polo roja de algod칩n del colegio Alc치ntara."  [(ngModel)]="producto.descripcion" name="descripcion" required>
                <label for="descripcion">Descripci칩n</label>
            </div>
            <div class="d-flex mb-3">
                <label for="colegio" class="input-group-text">Colegio: </label>
                <select id="colegio" class="form-select" (change)="colegioSelected($event)" name="colegio">

                    <option *ngFor="let colegio of colegios" value="{{colegio?.nombre}}" id="{{colegio?.id}}">
                        {{ colegio?.nombre }}
                    </option>
                </select>
            </div>
            
            <div>
              <div class="mb-3">
                <label for="formFile" class="form-label">Sube una foto:</label>                
                <input (change)="detectFile($event)" class="form-control" type="file" id="formFile" accept="image/png, image/jpeg" >
                </div>
            </div>

            <table class="table mt-3">
                <thead>
                    <tr class="text-center">
                        <th>Talla</th>
                        <th>Cantidad</th>
                        <th>Precio</th>
                        <th>Ubicaci칩n</th>
                    </tr>           
                </thead>
                <tbody>
                    <tr *ngFor="let talla of producto.talla; let i = index;">
                        <td class="text-center "> {{talla.n_talla}} </td>
                        <td class=""><input id="inputElement" type="number" min="0" class="form-control text-center mx-auto" name="cantidad{{i}}" [(ngModel)]="producto.talla[i].cantidad" value="0"></td>
                        <td class=""><input type="number" min="0" class="form-control text-center mx-auto" name="precio{{i}}" [(ngModel)]="producto.talla[i].precio" value="0"></td>
                        <td class=""><input type="text"class="form-control text-center mx-auto" name="ubicacion{{i}}" [(ngModel)]="producto.talla[i].ubicacion" value="0"></td>
                    </tr>
                </tbody>
            </table>
            <div class="d-flex justify-content-center pt-2" >
                <button type="submit" class="btn btn-success">Agregar producto</button>
            </div>
        </form>
    </div>
</body>
